{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/jaylin/Documents/xspace/xspace-web-demos/sharedCoffee/packages/ostrio:flow-router-extra/client/_init.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/ostrio:flow-router-extra/client/_init.js","filename":"/Users/jaylin/Documents/xspace/xspace-web-demos/sharedCoffee/packages/ostrio:flow-router-extra/client/_init.js","passPerPreset":false,"envName":"development","cwd":"/Users/jaylin/Documents/xspace/xspace-web-demos/sharedCoffee","root":"/Users/jaylin/Documents/xspace/xspace-web-demos/sharedCoffee","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.9.2","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/jaylin/Documents/xspace/xspace-web-demos/sharedCoffee/packages/ostrio:flow-router-extra/client/_init.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/ostrio:flow-router-extra/client/_init.js"}},"code":"module.export({\n  FlowRouter: function () {\n    return FlowRouter;\n  },\n  Router: function () {\n    return Router;\n  },\n  Route: function () {\n    return Route;\n  },\n  Group: function () {\n    return Group;\n  },\n  Triggers: function () {\n    return Triggers;\n  },\n  BlazeRenderer: function () {\n    return BlazeRenderer;\n  },\n  RouterHelpers: function () {\n    return RouterHelpers;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Router;\nmodule.link(\"./router.js\", {\n  \"default\": function (v) {\n    Router = v;\n  }\n}, 1);\nvar Route;\nmodule.link(\"./route.js\", {\n  \"default\": function (v) {\n    Route = v;\n  }\n}, 2);\nvar Group;\nmodule.link(\"./group.js\", {\n  \"default\": function (v) {\n    Group = v;\n  }\n}, 3);\nvar Triggers;\nmodule.link(\"./triggers.js\", {\n  \"default\": function (v) {\n    Triggers = v;\n  }\n}, 4);\nvar BlazeRenderer;\nmodule.link(\"./renderer.js\", {\n  \"default\": function (v) {\n    BlazeRenderer = v;\n  }\n}, 5);\nvar helpersInit;\nmodule.link(\"./active.route.js\", {\n  \"default\": function (v) {\n    helpersInit = v;\n  }\n}, 6);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 7);\nvar requestAnimFrame;\nmodule.link(\"./modules.js\", {\n  requestAnimFrame: function (v) {\n    requestAnimFrame = v;\n  }\n}, 8);\n\nif (Package['zimme:active-route']) {\n  Meteor._debug('Please remove `zimme:active-route` package, as its features is build into flow-router-extra, and will interfere.');\n\n  Meteor._debug('meteor remove zimme:active-route');\n}\n\nif (Package['arillo:flow-router-helpers']) {\n  Meteor._debug('Please remove `arillo:flow-router-helpers` package, as its features is build into flow-router-extra, and will interfere.');\n\n  Meteor._debug('meteor remove arillo:flow-router-helpers');\n}\n\nif (Package['meteorhacks:inject-data']) {\n  Meteor._debug('`meteorhacks:inject-data` is deprecated, please remove it and install its successor - `staringatlights:inject-data`');\n\n  Meteor._debug('meteor remove meteorhacks:inject-data');\n\n  Meteor._debug('meteor add staringatlights:inject-data');\n}\n\nif (Package['meteorhacks:fast-render']) {\n  Meteor._debug('`meteorhacks:fast-render` is deprecated, please remove it and install its successor - `staringatlights:fast-render`');\n\n  Meteor._debug('meteor remove meteorhacks:fast-render');\n\n  Meteor._debug('meteor add staringatlights:fast-render');\n}\n\nvar FlowRouter = new Router();\nFlowRouter.Router = Router;\nFlowRouter.Route = Route; // Initialize FlowRouter\n\nMeteor.startup(function () {\n  if (!FlowRouter._askedToWait && !FlowRouter._initialized) {\n    FlowRouter.initialize();\n    FlowRouter.route('/___refresh/:layout/:template/:oldRoute?', {\n      name: '___refresh',\n      action: function (params, queryParams) {\n        this.render(params.layout, params.template, function () {\n          requestAnimFrame(function () {\n            if (params.oldRoute) {\n              try {\n                if (history.length) {\n                  window.history.go(-1);\n                } else {\n                  FlowRouter.go(params.oldRoute, queryParams.oldParams ? JSON.parse(queryParams.oldParams) : {});\n                }\n              } catch (e) {\n                FlowRouter.go('/');\n              }\n            } else {\n              if (history.length) {\n                window.history.go(-1);\n              } else {\n                FlowRouter.go('/');\n              }\n            }\n          });\n        });\n      }\n    });\n\n    FlowRouter.refresh = function (layout, template) {\n      if (!layout || !_helpers.isString(layout)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"layout\" must be a String!');\n      }\n\n      if (!template || !_helpers.isString(template)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"template\" must be a String!');\n      }\n\n      FlowRouter.go('___refresh', {\n        oldRoute: FlowRouter._current.route.name,\n        layout: layout,\n        template: template\n      }, {\n        oldParams: JSON.stringify(FlowRouter._current.params || {})\n      });\n    };\n  }\n});\nvar RouterHelpers = helpersInit(FlowRouter);","map":{"version":3,"sources":["packages/ostrio:flow-router-extra/client/_init.js"],"names":["module","export","FlowRouter","Router","Route","Group","Triggers","BlazeRenderer","RouterHelpers","Meteor","link","v","helpersInit","_helpers","requestAnimFrame","Package","_debug","startup","_askedToWait","_initialized","initialize","route","name","action","params","queryParams","render","layout","template","oldRoute","history","length","window","go","oldParams","JSON","parse","e","refresh","isString","Error","_current","stringify"],"mappings":"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","sourcesContent":["import { Meteor }    from 'meteor/meteor';\nimport Router        from './router.js';\nimport Route         from './route.js';\nimport Group         from './group.js';\nimport Triggers      from './triggers.js';\nimport BlazeRenderer from './renderer.js';\nimport helpersInit   from './active.route.js';\nimport { _helpers }  from './../lib/_helpers.js';\nimport { requestAnimFrame } from './modules.js';\n\nif (Package['zimme:active-route']) {\n  Meteor._debug('Please remove `zimme:active-route` package, as its features is build into flow-router-extra, and will interfere.');\n  Meteor._debug('meteor remove zimme:active-route');\n}\n\nif (Package['arillo:flow-router-helpers']) {\n  Meteor._debug('Please remove `arillo:flow-router-helpers` package, as its features is build into flow-router-extra, and will interfere.');\n  Meteor._debug('meteor remove arillo:flow-router-helpers');\n}\n\nif (Package['meteorhacks:inject-data']) {\n  Meteor._debug('`meteorhacks:inject-data` is deprecated, please remove it and install its successor - `staringatlights:inject-data`');\n  Meteor._debug('meteor remove meteorhacks:inject-data');\n  Meteor._debug('meteor add staringatlights:inject-data');\n}\n\nif (Package['meteorhacks:fast-render']) {\n  Meteor._debug('`meteorhacks:fast-render` is deprecated, please remove it and install its successor - `staringatlights:fast-render`');\n  Meteor._debug('meteor remove meteorhacks:fast-render');\n  Meteor._debug('meteor add staringatlights:fast-render');\n}\n\nconst FlowRouter = new Router();\nFlowRouter.Router = Router;\nFlowRouter.Route = Route;\n\n// Initialize FlowRouter\nMeteor.startup(() => {\n  if(!FlowRouter._askedToWait && !FlowRouter._initialized) {\n    FlowRouter.initialize();\n\n    FlowRouter.route('/___refresh/:layout/:template/:oldRoute?', {\n      name: '___refresh',\n      action(params, queryParams) {\n        this.render(params.layout, params.template, () => {\n          requestAnimFrame(() => {\n            if (params.oldRoute) {\n              try {\n                if (history.length) {\n                  window.history.go(-1);\n                } else {\n                  FlowRouter.go(params.oldRoute, (queryParams.oldParams ? JSON.parse(queryParams.oldParams) : {}));\n                }\n              } catch (e) {\n                FlowRouter.go('/');\n              }\n            } else {\n              if (history.length) {\n                window.history.go(-1);\n              } else {\n                FlowRouter.go('/');\n              }\n            }\n          });\n        });\n      }\n    });\n\n    FlowRouter.refresh = (layout, template) => {\n      if (!layout || !_helpers.isString(layout)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"layout\" must be a String!');\n      }\n\n      if (!template || !_helpers.isString(template)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"template\" must be a String!');\n      }\n\n      FlowRouter.go('___refresh', {\n        oldRoute: FlowRouter._current.route.name,\n        layout,\n        template\n      }, {\n        oldParams: JSON.stringify(FlowRouter._current.params || {})\n      });\n    };\n  }\n});\n\nconst RouterHelpers = helpersInit(FlowRouter);\n\nexport { FlowRouter, Router, Route, Group, Triggers, BlazeRenderer, RouterHelpers };\n"]},"sourceType":"module","hash":"49ae145301e9af1423a3fe4ab4bbcd4ba837f934"}
